
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>API Documentation &#8212; bci-build-templates  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Creating packages on OBS" href="creating_packages.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="api-documentation">
<h1>API Documentation<a class="headerlink" href="#api-documentation" title="Permalink to this heading">¶</a></h1>
<section id="module-bci_build.package">
<span id="package-module"></span><h2><a class="reference internal" href="#module-bci_build.package" title="bci_build.package"><code class="xref py py-mod docutils literal notranslate"><span class="pre">package</span></code></a> module<a class="headerlink" href="#module-bci_build.package" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bci_build.package.ApplicationStackContainer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">ApplicationStackContainer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">name:</span> <span class="pre">'str',</span> <span class="pre">pretty_name:</span> <span class="pre">'str',</span> <span class="pre">package_name:</span> <span class="pre">'str',</span> <span class="pre">os_version:</span> <span class="pre">'OsVersion',</span> <span class="pre">from_image:</span> <span class="pre">'Optional[str]'</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">is_latest:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">entrypoint:</span> <span class="pre">'Optional[List[str]]'</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">cmd:</span> <span class="pre">'Optional[List[str]]'</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">volumes:</span> <span class="pre">'Optional[List[str]]'</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">exposes_tcp:</span> <span class="pre">'Optional[List[int]]'</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">env:</span> <span class="pre">'Union[Dict[str,</span> <span class="pre">Union[str,</span> <span class="pre">int]],</span> <span class="pre">Dict[str,</span> <span class="pre">str],</span> <span class="pre">Dict[str,</span> <span class="pre">int]]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">replacements_via_service:</span> <span class="pre">'List[Replacement]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">extra_labels:</span> <span class="pre">'Dict[str,</span> <span class="pre">str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">package_list:</span> <span class="pre">'Union[List[str],</span> <span class="pre">List[Package]]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">custom_end:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">config_sh_script:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">config_sh_interpreter:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'/bin/bash',</span> <span class="pre">maintainer:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'SUSE</span> <span class="pre">LLC</span> <span class="pre">(https://www.suse.com/)',</span> <span class="pre">extra_files:</span> <span class="pre">'Union[Dict[str,</span> <span class="pre">Union[str,</span> <span class="pre">bytes]],</span> <span class="pre">Dict[str,</span> <span class="pre">bytes],</span> <span class="pre">Dict[str,</span> <span class="pre">str]]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">additional_names:</span> <span class="pre">'List[str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">custom_labelprefix_end:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">custom_description:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">build_recipe_type:</span> <span class="pre">'Optional[BuildType]'</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">license:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'MIT',</span> <span class="pre">version:</span> <span class="pre">'Union[str,</span> <span class="pre">int]'</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">additional_versions:</span> <span class="pre">'List[str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">version_in_uid:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">True,</span> <span class="pre">_registry_prefix:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'bci'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.package.ApplicationStackContainer" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.ApplicationStackContainer.image_type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">image_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#bci_build.package.ImageType" title="bci_build.package.ImageType"><span class="pre">ImageType</span></a></em><a class="headerlink" href="#bci_build.package.ApplicationStackContainer.image_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the value of the <code class="docutils literal notranslate"><span class="pre">com.suse.image-type</span></code> label.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.ApplicationStackContainer.title">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">title</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.ApplicationStackContainer.title" title="Permalink to this definition">¶</a></dt>
<dd><p>The image title that is inserted into the <code class="docutils literal notranslate"><span class="pre">org.opencontainers.image.title</span></code>
label.</p>
<p>It is generated from <a class="reference internal" href="#bci_build.package.BaseContainerImage.pretty_name" title="bci_build.package.BaseContainerImage.pretty_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BaseContainerImage.pretty_name</span></code></a> as
follows: <code class="docutils literal notranslate"><span class="pre">&quot;SLE</span> <span class="pre">BCI</span> <span class="pre">{self.pretty_name}</span> <span class="pre">Container</span> <span class="pre">Image&quot;</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">BaseContainerImage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">name:</span> <span class="pre">str,</span> <span class="pre">pretty_name:</span> <span class="pre">str,</span> <span class="pre">package_name:</span> <span class="pre">str,</span> <span class="pre">os_version:</span> <span class="pre">~bci_build.package.OsVersion,</span> <span class="pre">from_image:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">is_latest:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">entrypoint:</span> <span class="pre">~typing.Optional[~typing.List[str]]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">cmd:</span> <span class="pre">~typing.Optional[~typing.List[str]]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">volumes:</span> <span class="pre">~typing.Optional[~typing.List[str]]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">exposes_tcp:</span> <span class="pre">~typing.Optional[~typing.List[int]]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">env:</span> <span class="pre">~typing.Union[~typing.Dict[str,</span> <span class="pre">~typing.Union[str,</span> <span class="pre">int]],</span> <span class="pre">~typing.Dict[str,</span> <span class="pre">str],</span> <span class="pre">~typing.Dict[str,</span> <span class="pre">int]]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">replacements_via_service:</span> <span class="pre">~typing.List[~bci_build.package.Replacement]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">extra_labels:</span> <span class="pre">~typing.Dict[str,</span> <span class="pre">str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">package_list:</span> <span class="pre">~typing.Union[~typing.List[str],</span> <span class="pre">~typing.List[~bci_build.package.Package]]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">custom_end:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">config_sh_script:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">config_sh_interpreter:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'/bin/bash',</span> <span class="pre">maintainer:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'SUSE</span> <span class="pre">LLC</span> <span class="pre">(https://www.suse.com/)',</span> <span class="pre">extra_files:</span> <span class="pre">~typing.Union[~typing.Dict[str,</span> <span class="pre">~typing.Union[str,</span> <span class="pre">bytes]],</span> <span class="pre">~typing.Dict[str,</span> <span class="pre">bytes],</span> <span class="pre">~typing.Dict[str,</span> <span class="pre">str]]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">additional_names:</span> <span class="pre">~typing.List[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">custom_labelprefix_end:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">custom_description:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">build_recipe_type:</span> <span class="pre">~typing.Optional[~bci_build.package.BuildType]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">license:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'MIT'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.package.BaseContainerImage" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all Base Container Images.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.URL">
<span class="sig-name descname"><span class="pre">URL</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.ClassVar" title="(in Python v3.10)"><span class="pre">ClassVar</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://www.suse.com/products/server/'</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.URL" title="Permalink to this definition">¶</a></dt>
<dd><p>The default url that is put into the <code class="docutils literal notranslate"><span class="pre">org.opencontainers.image.url</span></code>
label</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.VENDOR">
<span class="sig-name descname"><span class="pre">VENDOR</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.ClassVar" title="(in Python v3.10)"><span class="pre">ClassVar</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'SUSE</span> <span class="pre">LLC'</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.VENDOR" title="Permalink to this definition">¶</a></dt>
<dd><p>The vendor that is put into the <code class="docutils literal notranslate"><span class="pre">org.opencontainers.image.vendor</span></code>
label</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.additional_names">
<span class="sig-name descname"><span class="pre">additional_names</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.additional_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Additional names under which this image should be published alongside
<a class="reference internal" href="#bci_build.package.BaseContainerImage.name" title="bci_build.package.BaseContainerImage.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">name</span></code></a>.
These names are only inserted into the
<a class="reference internal" href="#bci_build.package.BaseContainerImage.build_tags" title="bci_build.package.BaseContainerImage.build_tags"><code class="xref py py-attr docutils literal notranslate"><span class="pre">build_tags</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.build_recipe_type">
<span class="sig-name descname"><span class="pre">build_recipe_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#bci_build.package.BuildType" title="bci_build.package.BuildType"><span class="pre">BuildType</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.build_recipe_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Define whether this container image is built using docker or kiwi.
If not set, then the build type will default to docker from SP4 onwards.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.build_tags">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build_tags</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.build_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>All build tags that will be added to this image. Note that build tags are
full paths on the registry and not just a tag.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.build_version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.build_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.cmd">
<span class="sig-name descname"><span class="pre">cmd</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>An optional CMD for the image, it is omitted if empty or <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.cmd_docker">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cmd_docker</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.cmd_docker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.cmd_kiwi">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cmd_kiwi</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.cmd_kiwi" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.config_sh">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">config_sh</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.config_sh" title="Permalink to this definition">¶</a></dt>
<dd><p>The full <code class="file docutils literal notranslate"><span class="pre">config.sh</span></code> script required for kiwi builds.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.config_sh_interpreter">
<span class="sig-name descname"><span class="pre">config_sh_interpreter</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/bin/bash'</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.config_sh_interpreter" title="Permalink to this definition">¶</a></dt>
<dd><p>The interpreter of the <code class="file docutils literal notranslate"><span class="pre">config.sh</span></code> script that is executed by kiwi
during the image build.
It defaults to <code class="file docutils literal notranslate"><span class="pre">/bin/bash</span></code> and has no effect for <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code>
based builds.
<em>Warning:</em> Using a different interpreter than <code class="file docutils literal notranslate"><span class="pre">/bin/bash</span></code> could
lead to unpredictable results as kiwi’s internal functions are written
for bash and not for a different shell.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.config_sh_script">
<span class="sig-name descname"><span class="pre">config_sh_script</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.config_sh_script" title="Permalink to this definition">¶</a></dt>
<dd><p>A script that is put into <code class="file docutils literal notranslate"><span class="pre">config.sh</span></code> if a kiwi image is
created. If a <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code> based build is used then this script is
prependend with a <a class="reference internal" href="#bci_build.package.DOCKERFILE_RUN" title="bci_build.package.DOCKERFILE_RUN"><code class="xref py py-const docutils literal notranslate"><span class="pre">DOCKERFILE_RUN</span></code></a> and added
at the end of the <code class="docutils literal notranslate"><span class="pre">Dockerfile</span></code>. It must thus fit on a single line if
you want to be able to build from a kiwi and <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code> at the
same time!</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.custom_description">
<span class="sig-name descname"><span class="pre">custom_description</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.custom_description" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide a custom description instead of the automatically generated one</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.custom_end">
<span class="sig-name descname"><span class="pre">custom_end</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.custom_end" title="Permalink to this definition">¶</a></dt>
<dd><p>This string is appended to the automatically generated dockerfile and can
contain arbitrary instructions valid for a <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code>.
<strong>Caution</strong> Setting both this property and
<a class="reference internal" href="#bci_build.package.BaseContainerImage.config_sh_script" title="bci_build.package.BaseContainerImage.config_sh_script"><code class="xref py py-attr docutils literal notranslate"><span class="pre">config_sh_script</span></code></a> is not possible and will
result in an error.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.custom_labelprefix_end">
<span class="sig-name descname"><span class="pre">custom_labelprefix_end</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.custom_labelprefix_end" title="Permalink to this definition">¶</a></dt>
<dd><p>By default the containers get the labelprefix
<code class="docutils literal notranslate"><span class="pre">com.suse.bci.{self.name}</span></code>. If this value is not an empty string, then
it is used instead of the name after <code class="docutils literal notranslate"><span class="pre">com.suse.bci.</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.description">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">description</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.description" title="Permalink to this definition">¶</a></dt>
<dd><p>The description of this image which is inserted into the
<code class="docutils literal notranslate"><span class="pre">org.opencontainers.image.description</span></code> label.</p>
<p>If <a class="reference internal" href="#bci_build.package.BaseContainerImage.custom_description" title="bci_build.package.BaseContainerImage.custom_description"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BaseContainerImage.custom_description</span></code></a> is set, then that
value is used. Otherwise it reuses
<a class="reference internal" href="#bci_build.package.BaseContainerImage.pretty_name" title="bci_build.package.BaseContainerImage.pretty_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BaseContainerImage.pretty_name</span></code></a> to generate a description.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.dockerfile_custom_end">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dockerfile_custom_end</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.dockerfile_custom_end" title="Permalink to this definition">¶</a></dt>
<dd><p>This part is appended at the end of the <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code>. It is either
generated from <a class="reference internal" href="#bci_build.package.BaseContainerImage.custom_end" title="bci_build.package.BaseContainerImage.custom_end"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BaseContainerImage.custom_end</span></code></a> or by prepending
<code class="docutils literal notranslate"><span class="pre">RUN</span></code> in front of <a class="reference internal" href="#bci_build.package.BaseContainerImage.config_sh_script" title="bci_build.package.BaseContainerImage.config_sh_script"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BaseContainerImage.config_sh_script</span></code></a>. The
later implies that the script in that variable fits on a single line or
newlines are escaped, e.g. via <a class="reference external" href="https://stackoverflow.com/a/33439625">ansi escapes</a>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.dockerfile_from_line">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dockerfile_from_line</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.dockerfile_from_line" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.entrypoint">
<span class="sig-name descname"><span class="pre">entrypoint</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.entrypoint" title="Permalink to this definition">¶</a></dt>
<dd><p>An optional entrypoint for the image, it is omitted if empty or <code class="docutils literal notranslate"><span class="pre">None</span></code>
If you provide a string, then it will be included in the container build
recipe as is, i.e. it will be called via a shell as
<strong class="command">sh -c &quot;MY_CMD&quot;</strong>.
If your entrypoint must not be called through a shell, then pass the
binary and its parameters as a list</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.entrypoint_docker">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">entrypoint_docker</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.entrypoint_docker" title="Permalink to this definition">¶</a></dt>
<dd><p>The entrypoint line in a <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.entrypoint_kiwi">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">entrypoint_kiwi</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.entrypoint_kiwi" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.env">
<span class="sig-name descname"><span class="pre">env</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.env" title="Permalink to this definition">¶</a></dt>
<dd><p>Extra environment variables to be set in the container</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.env_lines">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">env_lines</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.env_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Part of the <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code> that sets every environment variable defined
in <a class="reference internal" href="#bci_build.package.BaseContainerImage.env" title="bci_build.package.BaseContainerImage.env"><code class="xref py py-attr docutils literal notranslate"><span class="pre">env</span></code></a>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.expose_dockerfile">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">expose_dockerfile</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.expose_dockerfile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.exposes_kiwi">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">exposes_kiwi</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.exposes_kiwi" title="Permalink to this definition">¶</a></dt>
<dd><p>The EXPOSES for this image as kiwi xml elements.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.exposes_tcp">
<span class="sig-name descname"><span class="pre">exposes_tcp</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.exposes_tcp" title="Permalink to this definition">¶</a></dt>
<dd><p>An optional list of tcp port exposes, it is omitted if empty or <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.extra_files">
<span class="sig-name descname"><span class="pre">extra_files</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.10)"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.10)"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.extra_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Additional files that belong into this container-package.
The key is the filename, the values are the file contents.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.extra_label_lines">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extra_label_lines</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.extra_label_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Lines for a <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code> to set the additional labels defined in
<a class="reference internal" href="#bci_build.package.BaseContainerImage.extra_labels" title="bci_build.package.BaseContainerImage.extra_labels"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BaseContainerImage.extra_labels</span></code></a>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.extra_label_xml_lines">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extra_label_xml_lines</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.extra_label_xml_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>XML Elements for a kiwi build description to set the additional labels
defined in <a class="reference internal" href="#bci_build.package.BaseContainerImage.extra_labels" title="bci_build.package.BaseContainerImage.extra_labels"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BaseContainerImage.extra_labels</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.extra_labels">
<span class="sig-name descname"><span class="pre">extra_labels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.10)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.extra_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Additional labels that should be added to the image. These are added into
the <code class="docutils literal notranslate"><span class="pre">PREFIXEDLABEL</span></code> section.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.from_image">
<span class="sig-name descname"><span class="pre">from_image</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.from_image" title="Permalink to this definition">¶</a></dt>
<dd><p>The container from which this one is derived. defaults to
<code class="docutils literal notranslate"><span class="pre">suse/sle15:15.$SP</span></code> when an empty string is used.
When from image is <code class="docutils literal notranslate"><span class="pre">None</span></code>, then this image will not be based on
<strong>anything</strong>, i.e. the <code class="docutils literal notranslate"><span class="pre">FROM</span></code> line is missing in the <code class="docutils literal notranslate"><span class="pre">Dockerfile</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.image_type">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">image_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#bci_build.package.ImageType" title="bci_build.package.ImageType"><span class="pre">ImageType</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.image_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the value of the <code class="docutils literal notranslate"><span class="pre">com.suse.image-type</span></code> label.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.is_latest">
<span class="sig-name descname"><span class="pre">is_latest</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.is_latest" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines whether this image will have the <code class="docutils literal notranslate"><span class="pre">latest</span></code> tag.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.kiwi_additional_tags">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kiwi_additional_tags</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.kiwi_additional_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Entry for the <code class="docutils literal notranslate"><span class="pre">additionaltags</span></code> attribute in the kiwi build
description.</p>
<p>This attribute is used by kiwi to add additional tags to the image under
it’s primary name. This string contains a coma separated list of all
build tags (except for the primary one) that have the <strong>same</strong> name as
the image itself.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.kiwi_derived_from_entry">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kiwi_derived_from_entry</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.kiwi_derived_from_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.kiwi_env_entry">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kiwi_env_entry</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.kiwi_env_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>Environment variable settings for a kiwi build recipe.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.kiwi_packages">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kiwi_packages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.kiwi_packages" title="Permalink to this definition">¶</a></dt>
<dd><p>The package list as xml elements that are inserted into a kiwi build
description file.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.labelprefix">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">labelprefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.labelprefix" title="Permalink to this definition">¶</a></dt>
<dd><p>The label prefix used to duplicate the labels. See
<a class="reference external" href="https://en.opensuse.org/Building_derived_containers#Labels">https://en.opensuse.org/Building_derived_containers#Labels</a> for
further information.</p>
<p>This value is by default <code class="docutils literal notranslate"><span class="pre">com.suse.bci.{self.name}</span></code> for images of type
<a class="reference internal" href="#bci_build.package.ImageType.SLE_BCI" title="bci_build.package.ImageType.SLE_BCI"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ImageType.SLE_BCI</span></code></a> and <code class="docutils literal notranslate"><span class="pre">`com.suse.application.{self.name}</span></code>
for images of type <a class="reference internal" href="#bci_build.package.ImageType.APPLICATION" title="bci_build.package.ImageType.APPLICATION"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ImageType.APPLICATION</span></code></a> unless
<a class="reference internal" href="#bci_build.package.BaseContainerImage.custom_labelprefix_end" title="bci_build.package.BaseContainerImage.custom_labelprefix_end"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BaseContainerImage.custom_labelprefix_end</span></code></a> is set. In that
case <code class="docutils literal notranslate"><span class="pre">self.name</span></code> is replaced by
<a class="reference internal" href="#bci_build.package.BaseContainerImage.custom_labelprefix_end" title="bci_build.package.BaseContainerImage.custom_labelprefix_end"><code class="xref py py-attr docutils literal notranslate"><span class="pre">custom_labelprefix_end</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.license">
<span class="sig-name descname"><span class="pre">license</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'MIT'</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.license" title="Permalink to this definition">¶</a></dt>
<dd><p>A license string to be placed in a comment at the top of the Dockerfile
or kiwi build description file.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.maintainer">
<span class="sig-name descname"><span class="pre">maintainer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'SUSE</span> <span class="pre">LLC</span> <span class="pre">(https://www.suse.com/)'</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.maintainer" title="Permalink to this definition">¶</a></dt>
<dd><p>The maintainer of this image, defaults to SUSE</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of this image. It is used to generate the build tags, i.e. it
defines under which name this image is published.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.os_version">
<span class="sig-name descname"><span class="pre">os_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#bci_build.package.OsVersion" title="bci_build.package.OsVersion"><span class="pre">OsVersion</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.os_version" title="Permalink to this definition">¶</a></dt>
<dd><p>The SLE service pack to which this package belongs</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.package_list">
<span class="sig-name descname"><span class="pre">package_list</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#bci_build.package.Package" title="bci_build.package.Package"><span class="pre">Package</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.package_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Packages to be installed inside the container image</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.package_name">
<span class="sig-name descname"><span class="pre">package_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.package_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the package on OBS or IBS in <code class="docutils literal notranslate"><span class="pre">devel:BCI:SLE-15-SP$ver</span></code> (on
OBS) or <code class="docutils literal notranslate"><span class="pre">SUSE:SLE-15-SP$ver:Update:BCI</span></code> (on IBS)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.packages">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">packages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.packages" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of packages joined so that it can be appended to a
<strong class="command">zypper in</strong>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.pretty_name">
<span class="sig-name descname"><span class="pre">pretty_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.pretty_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Human readable name that will be inserted into the image title and description</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.reference">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reference</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.reference" title="Permalink to this definition">¶</a></dt>
<dd><p>The primary URL via which this image can be pulled. It is used to set the
<code class="docutils literal notranslate"><span class="pre">org.opensuse.reference</span></code> label and defaults to
<code class="docutils literal notranslate"><span class="pre">registry.suse.com/{self.build_tags[0]}</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.release_stage">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">release_stage</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#bci_build.package.ReleaseStage" title="bci_build.package.ReleaseStage"><span class="pre">ReleaseStage</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.release_stage" title="Permalink to this definition">¶</a></dt>
<dd><p>This container images’ release stage.</p>
<p>It is <a class="reference internal" href="#bci_build.package.ReleaseStage.RELEASED" title="bci_build.package.ReleaseStage.RELEASED"><code class="xref py py-attr docutils literal notranslate"><span class="pre">RELEASED</span></code></a> if the container images’
operating system version is in the list
<a class="reference internal" href="#bci_build.package.RELEASED_OS_VERSIONS" title="bci_build.package.RELEASED_OS_VERSIONS"><code class="xref py py-const docutils literal notranslate"><span class="pre">RELEASED_OS_VERSIONS</span></code></a>. Otherwise it
is <a class="reference internal" href="#bci_build.package.ReleaseStage.BETA" title="bci_build.package.ReleaseStage.BETA"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BETA</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.replacements_via_service">
<span class="sig-name descname"><span class="pre">replacements_via_service</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#bci_build.package.Replacement" title="bci_build.package.Replacement"><span class="pre">Replacement</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.replacements_via_service" title="Permalink to this definition">¶</a></dt>
<dd><p>Add any replacements via <a class="reference external" href="https://github.com/openSUSE/obs-service-replace_using_package_version">obs-service-replace_using_package_version</a>
that are used in this image into this list.
See also <a class="reference internal" href="#bci_build.package.Replacement" title="bci_build.package.Replacement"><code class="xref py py-class docutils literal notranslate"><span class="pre">Replacement</span></code></a></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.support_level">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">support_level</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#bci_build.package.SupportLevel" title="bci_build.package.SupportLevel"><span class="pre">SupportLevel</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.support_level" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.title">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">title</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.title" title="Permalink to this definition">¶</a></dt>
<dd><p>The image title that is inserted into the <code class="docutils literal notranslate"><span class="pre">org.opencontainers.image.title</span></code>
label.</p>
<p>It is generated from <a class="reference internal" href="#bci_build.package.BaseContainerImage.pretty_name" title="bci_build.package.BaseContainerImage.pretty_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BaseContainerImage.pretty_name</span></code></a> as
follows: <code class="docutils literal notranslate"><span class="pre">&quot;SLE</span> <span class="pre">BCI</span> <span class="pre">{self.pretty_name}</span> <span class="pre">Container</span> <span class="pre">Image&quot;</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.uid">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">uid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.uid" title="Permalink to this definition">¶</a></dt>
<dd><p>unique identifier of this image, either its name or <code class="docutils literal notranslate"><span class="pre">$name-$version</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.version_label">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version_label</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.version_label" title="Permalink to this definition">¶</a></dt>
<dd><p>The “main” version label of this image.</p>
<p>It is added as the <code class="docutils literal notranslate"><span class="pre">org.opencontainers.image.version</span></code> label to the
container image and also added to the
<a class="reference internal" href="#bci_build.package.BaseContainerImage.build_tags" title="bci_build.package.BaseContainerImage.build_tags"><code class="xref py py-attr docutils literal notranslate"><span class="pre">build_tags</span></code></a>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.volume_dockerfile">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">volume_dockerfile</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.volume_dockerfile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.volumes">
<span class="sig-name descname"><span class="pre">volumes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.volumes" title="Permalink to this definition">¶</a></dt>
<dd><p>An optional list of volumes, it is omitted if empty or <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.volumes_kiwi">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">volumes_kiwi</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.BaseContainerImage.volumes_kiwi" title="Permalink to this definition">¶</a></dt>
<dd><p>The volumes for this image as xml elements that are inserted into
a container.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bci_build.package.BaseContainerImage.write_files_to_folder">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">write_files_to_folder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dest</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#bci_build.package.BaseContainerImage.write_files_to_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes all files required to build this image into the destination folder and
returns the filenames (not full paths) that were written to the disk.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bci_build.package.BuildType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">BuildType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.package.BuildType" title="Permalink to this definition">¶</a></dt>
<dd><p>Options for how the image is build, either as a kiwi build or from a
<code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BuildType.DOCKER">
<span class="sig-name descname"><span class="pre">DOCKER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'docker'</span></em><a class="headerlink" href="#bci_build.package.BuildType.DOCKER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.BuildType.KIWI">
<span class="sig-name descname"><span class="pre">KIWI</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'kiwi'</span></em><a class="headerlink" href="#bci_build.package.BuildType.KIWI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="bci_build.package.DOCKERFILE_RUN">
<span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">DOCKERFILE_RUN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'RUN</span> <span class="pre">set</span> <span class="pre">-euo</span> <span class="pre">pipefail;'</span></em><a class="headerlink" href="#bci_build.package.DOCKERFILE_RUN" title="Permalink to this definition">¶</a></dt>
<dd><p>a <code class="docutils literal notranslate"><span class="pre">RUN</span></code> command with a common set of bash flags applied to prevent errors
from not being noticed</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bci_build.package.ImageType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">ImageType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.package.ImageType" title="Permalink to this definition">¶</a></dt>
<dd><p>Values of the <code class="docutils literal notranslate"><span class="pre">image-type</span></code> label of a BCI</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.ImageType.APPLICATION">
<span class="sig-name descname"><span class="pre">APPLICATION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'application'</span></em><a class="headerlink" href="#bci_build.package.ImageType.APPLICATION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.ImageType.SLE_BCI">
<span class="sig-name descname"><span class="pre">SLE_BCI</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'sle-bci'</span></em><a class="headerlink" href="#bci_build.package.ImageType.SLE_BCI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bci_build.package.LanguageStackContainer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">LanguageStackContainer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">name:</span> <span class="pre">'str',</span> <span class="pre">pretty_name:</span> <span class="pre">'str',</span> <span class="pre">package_name:</span> <span class="pre">'str',</span> <span class="pre">os_version:</span> <span class="pre">'OsVersion',</span> <span class="pre">from_image:</span> <span class="pre">'Optional[str]'</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">is_latest:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">entrypoint:</span> <span class="pre">'Optional[List[str]]'</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">cmd:</span> <span class="pre">'Optional[List[str]]'</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">volumes:</span> <span class="pre">'Optional[List[str]]'</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">exposes_tcp:</span> <span class="pre">'Optional[List[int]]'</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">env:</span> <span class="pre">'Union[Dict[str,</span> <span class="pre">Union[str,</span> <span class="pre">int]],</span> <span class="pre">Dict[str,</span> <span class="pre">str],</span> <span class="pre">Dict[str,</span> <span class="pre">int]]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">replacements_via_service:</span> <span class="pre">'List[Replacement]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">extra_labels:</span> <span class="pre">'Dict[str,</span> <span class="pre">str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">package_list:</span> <span class="pre">'Union[List[str],</span> <span class="pre">List[Package]]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">custom_end:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">config_sh_script:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">config_sh_interpreter:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'/bin/bash',</span> <span class="pre">maintainer:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'SUSE</span> <span class="pre">LLC</span> <span class="pre">(https://www.suse.com/)',</span> <span class="pre">extra_files:</span> <span class="pre">'Union[Dict[str,</span> <span class="pre">Union[str,</span> <span class="pre">bytes]],</span> <span class="pre">Dict[str,</span> <span class="pre">bytes],</span> <span class="pre">Dict[str,</span> <span class="pre">str]]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">additional_names:</span> <span class="pre">'List[str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">custom_labelprefix_end:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">custom_description:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">build_recipe_type:</span> <span class="pre">'Optional[BuildType]'</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">license:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'MIT',</span> <span class="pre">version:</span> <span class="pre">'Union[str,</span> <span class="pre">int]'</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">additional_versions:</span> <span class="pre">'List[str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">version_in_uid:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">True,</span> <span class="pre">_registry_prefix:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'bci'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.package.LanguageStackContainer" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.LanguageStackContainer.additional_versions">
<span class="sig-name descname"><span class="pre">additional_versions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.LanguageStackContainer.additional_versions" title="Permalink to this definition">¶</a></dt>
<dd><p>additional versions that should be added as tags to this container</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.LanguageStackContainer.build_tags">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build_tags</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.LanguageStackContainer.build_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>All build tags that will be added to this image. Note that build tags are
full paths on the registry and not just a tag.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.LanguageStackContainer.image_type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">image_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#bci_build.package.ImageType" title="bci_build.package.ImageType"><span class="pre">ImageType</span></a></em><a class="headerlink" href="#bci_build.package.LanguageStackContainer.image_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the value of the <code class="docutils literal notranslate"><span class="pre">com.suse.image-type</span></code> label.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.LanguageStackContainer.reference">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reference</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.LanguageStackContainer.reference" title="Permalink to this definition">¶</a></dt>
<dd><p>The primary URL via which this image can be pulled. It is used to set the
<code class="docutils literal notranslate"><span class="pre">org.opensuse.reference</span></code> label and defaults to
<code class="docutils literal notranslate"><span class="pre">registry.suse.com/{self.build_tags[0]}</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.LanguageStackContainer.uid">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">uid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.LanguageStackContainer.uid" title="Permalink to this definition">¶</a></dt>
<dd><p>unique identifier of this image, either its name or <code class="docutils literal notranslate"><span class="pre">$name-$version</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.LanguageStackContainer.version">
<span class="sig-name descname"><span class="pre">version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#bci_build.package.LanguageStackContainer.version" title="Permalink to this definition">¶</a></dt>
<dd><p>the primary version of the language or application inside this container</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.LanguageStackContainer.version_in_uid">
<span class="sig-name descname"><span class="pre">version_in_uid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#bci_build.package.LanguageStackContainer.version_in_uid" title="Permalink to this definition">¶</a></dt>
<dd><p>flag whether the version should be included in the uid</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.LanguageStackContainer.version_label">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version_label</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.LanguageStackContainer.version_label" title="Permalink to this definition">¶</a></dt>
<dd><p>The “main” version label of this image.</p>
<p>It is added as the <code class="docutils literal notranslate"><span class="pre">org.opencontainers.image.version</span></code> label to the
container image and also added to the
<a class="reference internal" href="#bci_build.package.BaseContainerImage.build_tags" title="bci_build.package.BaseContainerImage.build_tags"><code class="xref py py-attr docutils literal notranslate"><span class="pre">build_tags</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bci_build.package.OsContainer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">OsContainer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">name:</span> <span class="pre">'str',</span> <span class="pre">pretty_name:</span> <span class="pre">'str',</span> <span class="pre">package_name:</span> <span class="pre">'str',</span> <span class="pre">os_version:</span> <span class="pre">'OsVersion',</span> <span class="pre">from_image:</span> <span class="pre">'Optional[str]'</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">is_latest:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">entrypoint:</span> <span class="pre">'Optional[List[str]]'</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">cmd:</span> <span class="pre">'Optional[List[str]]'</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">volumes:</span> <span class="pre">'Optional[List[str]]'</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">exposes_tcp:</span> <span class="pre">'Optional[List[int]]'</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">env:</span> <span class="pre">'Union[Dict[str,</span> <span class="pre">Union[str,</span> <span class="pre">int]],</span> <span class="pre">Dict[str,</span> <span class="pre">str],</span> <span class="pre">Dict[str,</span> <span class="pre">int]]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">replacements_via_service:</span> <span class="pre">'List[Replacement]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">extra_labels:</span> <span class="pre">'Dict[str,</span> <span class="pre">str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">package_list:</span> <span class="pre">'Union[List[str],</span> <span class="pre">List[Package]]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">custom_end:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">config_sh_script:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">config_sh_interpreter:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'/bin/bash',</span> <span class="pre">maintainer:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'SUSE</span> <span class="pre">LLC</span> <span class="pre">(https://www.suse.com/)',</span> <span class="pre">extra_files:</span> <span class="pre">'Union[Dict[str,</span> <span class="pre">Union[str,</span> <span class="pre">bytes]],</span> <span class="pre">Dict[str,</span> <span class="pre">bytes],</span> <span class="pre">Dict[str,</span> <span class="pre">str]]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">additional_names:</span> <span class="pre">'List[str]'</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">custom_labelprefix_end:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">custom_description:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">build_recipe_type:</span> <span class="pre">'Optional[BuildType]'</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">license:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'MIT'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.package.OsContainer" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.OsContainer.build_tags">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build_tags</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bci_build.package.OsContainer.build_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>All build tags that will be added to this image. Note that build tags are
full paths on the registry and not just a tag.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.OsContainer.image_type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">image_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#bci_build.package.ImageType" title="bci_build.package.ImageType"><span class="pre">ImageType</span></a></em><a class="headerlink" href="#bci_build.package.OsContainer.image_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the value of the <code class="docutils literal notranslate"><span class="pre">com.suse.image-type</span></code> label.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.OsContainer.reference">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reference</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.OsContainer.reference" title="Permalink to this definition">¶</a></dt>
<dd><p>The primary URL via which this image can be pulled. It is used to set the
<code class="docutils literal notranslate"><span class="pre">org.opensuse.reference</span></code> label and defaults to
<code class="docutils literal notranslate"><span class="pre">registry.suse.com/{self.build_tags[0]}</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.OsContainer.uid">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">uid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.OsContainer.uid" title="Permalink to this definition">¶</a></dt>
<dd><p>unique identifier of this image, either its name or <code class="docutils literal notranslate"><span class="pre">$name-$version</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.OsContainer.version_label">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version_label</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.OsContainer.version_label" title="Permalink to this definition">¶</a></dt>
<dd><p>The “main” version label of this image.</p>
<p>It is added as the <code class="docutils literal notranslate"><span class="pre">org.opencontainers.image.version</span></code> label to the
container image and also added to the
<a class="reference internal" href="#bci_build.package.BaseContainerImage.build_tags" title="bci_build.package.BaseContainerImage.build_tags"><code class="xref py py-attr docutils literal notranslate"><span class="pre">build_tags</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bci_build.package.OsContainer.version_to_container_os_version">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version_to_container_os_version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">os_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#bci_build.package.OsVersion" title="bci_build.package.OsVersion"><span class="pre">OsVersion</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#bci_build.package.OsContainer.version_to_container_os_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bci_build.package.OsVersion">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">OsVersion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.package.OsVersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Enumeration of the base operating system versions for BCI.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.OsVersion.SP3">
<span class="sig-name descname"><span class="pre">SP3</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#bci_build.package.OsVersion.SP3" title="Permalink to this definition">¶</a></dt>
<dd><p>SLE 15 Service Pack 3</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.OsVersion.SP4">
<span class="sig-name descname"><span class="pre">SP4</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4</span></em><a class="headerlink" href="#bci_build.package.OsVersion.SP4" title="Permalink to this definition">¶</a></dt>
<dd><p>SLE 15 Service Pack 4</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.OsVersion.TUMBLEWEED">
<span class="sig-name descname"><span class="pre">TUMBLEWEED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Tumbleweed'</span></em><a class="headerlink" href="#bci_build.package.OsVersion.TUMBLEWEED" title="Permalink to this definition">¶</a></dt>
<dd><p>openSUSE Tumbleweed</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bci_build.package.OsVersion.pretty_print">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pretty_print</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.OsVersion.pretty_print" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bci_build.package.Package">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">Package</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pkg_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#bci_build.package.PackageType" title="bci_build.package.PackageType"><span class="pre">PackageType</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">PackageType.IMAGE</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.package.Package" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of a package in a kiwi build, for Dockerfile based builds the
<a class="reference internal" href="#bci_build.package.Package.pkg_type" title="bci_build.package.Package.pkg_type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">pkg_type</span></code></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.Package.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.Package.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the package</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.Package.pkg_type">
<span class="sig-name descname"><span class="pre">pkg_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#bci_build.package.PackageType" title="bci_build.package.PackageType"><span class="pre">PackageType</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'image'</span></em><a class="headerlink" href="#bci_build.package.Package.pkg_type" title="Permalink to this definition">¶</a></dt>
<dd><p>The package type. This parameter is only applicable for kiwi builds and
defines into which <code class="docutils literal notranslate"><span class="pre">&lt;packages&gt;</span></code> element this package is inserted.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bci_build.package.PackageType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">PackageType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.package.PackageType" title="Permalink to this definition">¶</a></dt>
<dd><p>Package types that are supported by kiwi, see
<a class="reference external" href="https://osinside.github.io/kiwi/concept_and_workflow/packages.html">https://osinside.github.io/kiwi/concept_and_workflow/packages.html</a> for
further details.</p>
<p>Note that these are only supported for kiwi builds.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.PackageType.BOOTSTRAP">
<span class="sig-name descname"><span class="pre">BOOTSTRAP</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'bootstrap'</span></em><a class="headerlink" href="#bci_build.package.PackageType.BOOTSTRAP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.PackageType.DELETE">
<span class="sig-name descname"><span class="pre">DELETE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'delete'</span></em><a class="headerlink" href="#bci_build.package.PackageType.DELETE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.PackageType.IMAGE">
<span class="sig-name descname"><span class="pre">IMAGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'image'</span></em><a class="headerlink" href="#bci_build.package.PackageType.IMAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.PackageType.UNINSTALL">
<span class="sig-name descname"><span class="pre">UNINSTALL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'uninstall'</span></em><a class="headerlink" href="#bci_build.package.PackageType.UNINSTALL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="bci_build.package.RELEASED_OS_VERSIONS">
<span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">RELEASED_OS_VERSIONS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[&lt;OsVersion.SP3:</span> <span class="pre">3&gt;,</span> <span class="pre">&lt;OsVersion.SP4:</span> <span class="pre">4&gt;,</span> <span class="pre">&lt;OsVersion.TUMBLEWEED:</span> <span class="pre">'Tumbleweed'&gt;]</span></em><a class="headerlink" href="#bci_build.package.RELEASED_OS_VERSIONS" title="Permalink to this definition">¶</a></dt>
<dd><p>Operating system versions that have the label <code class="docutils literal notranslate"><span class="pre">com.suse.release-stage</span></code> set
to <code class="docutils literal notranslate"><span class="pre">released</span></code>.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bci_build.package.ReleaseStage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">ReleaseStage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.package.ReleaseStage" title="Permalink to this definition">¶</a></dt>
<dd><p>Values for the <code class="docutils literal notranslate"><span class="pre">release-stage</span></code> label of a BCI</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.ReleaseStage.BETA">
<span class="sig-name descname"><span class="pre">BETA</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'beta'</span></em><a class="headerlink" href="#bci_build.package.ReleaseStage.BETA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.ReleaseStage.RELEASED">
<span class="sig-name descname"><span class="pre">RELEASED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'released'</span></em><a class="headerlink" href="#bci_build.package.ReleaseStage.RELEASED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bci_build.package.Replacement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">Replacement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regex_in_build_description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">package_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'major'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'minor'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'patch'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'patch_update'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'offset'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.package.Replacement" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a replacement via the <a class="reference external" href="https://github.com/openSUSE/obs-service-replace_using_package_version">obs-service-replace_using_package_version</a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.Replacement.package_name">
<span class="sig-name descname"><span class="pre">package_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.Replacement.package_name" title="Permalink to this definition">¶</a></dt>
<dd><p>package name to be queried for the version</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.Replacement.parse_version">
<span class="sig-name descname"><span class="pre">parse_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'major'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'minor'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'patch'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'patch_update'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'offset'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.package.Replacement.parse_version" title="Permalink to this definition">¶</a></dt>
<dd><p>specify how the version should be formated, see
<a class="reference external" href="https://github.com/openSUSE/obs-service-replace_using_package_version#usage">https://github.com/openSUSE/obs-service-replace_using_package_version#usage</a>
for further details</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.Replacement.regex_in_build_description">
<span class="sig-name descname"><span class="pre">regex_in_build_description</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></em><a class="headerlink" href="#bci_build.package.Replacement.regex_in_build_description" title="Permalink to this definition">¶</a></dt>
<dd><p>regex to be replaced in <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code> or <code class="file docutils literal notranslate"><span class="pre">$pkg_name.kiwi</span></code></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bci_build.package.SupportLevel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">SupportLevel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.package.SupportLevel" title="Permalink to this definition">¶</a></dt>
<dd><p>Potential values of the <code class="docutils literal notranslate"><span class="pre">com.suse.supportlevel</span></code> label.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.SupportLevel.L2">
<span class="sig-name descname"><span class="pre">L2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'l2'</span></em><a class="headerlink" href="#bci_build.package.SupportLevel.L2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.SupportLevel.L3">
<span class="sig-name descname"><span class="pre">L3</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'l3'</span></em><a class="headerlink" href="#bci_build.package.SupportLevel.L3" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.SupportLevel.TECHPREVIEW">
<span class="sig-name descname"><span class="pre">TECHPREVIEW</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'techpreview'</span></em><a class="headerlink" href="#bci_build.package.SupportLevel.TECHPREVIEW" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.package.SupportLevel.UNSUPPORTED">
<span class="sig-name descname"><span class="pre">UNSUPPORTED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'unsupported'</span></em><a class="headerlink" href="#bci_build.package.SupportLevel.UNSUPPORTED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bci_build.package.init_container_kwargs">
<span class="sig-prename descclassname"><span class="pre">bci_build.package.</span></span><span class="sig-name descname"><span class="pre">init_container_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">os_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#bci_build.package.OsVersion" title="bci_build.package.OsVersion"><span class="pre">OsVersion</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.package.init_container_kwargs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-bci_build.update">
<span id="update-module"></span><h2><a class="reference internal" href="#module-bci_build.update" title="bci_build.update"><code class="xref py py-mod docutils literal notranslate"><span class="pre">update</span></code></a> module<a class="headerlink" href="#module-bci_build.update" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bci_build.update.BciUpdater">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.update.</span></span><span class="sig-name descname"><span class="pre">BciUpdater</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'https://api.opensuse.org'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.Logger" title="(in Python v3.10)"><span class="pre">logging.Logger</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osc_cli</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bci</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#bci_build.package.BaseContainerImage" title="bci_build.package.BaseContainerImage"><span class="pre">bci_build.package.BaseContainerImage</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bci_build.update.BciUpdater" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="bci_build.update.BciUpdater.add_files">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">destination</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#bci_build.update.BciUpdater.add_files" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will be invoked in the update process, it should create
the new package files and return the list of files that were added.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bci_build.update.BciUpdater.bci">
<span class="sig-name descname"><span class="pre">bci</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#bci_build.package.BaseContainerImage" title="bci_build.package.BaseContainerImage"><span class="pre">BaseContainerImage</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#bci_build.update.BciUpdater.bci" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bci_build.update.update_package">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bci_build.update.</span></span><span class="sig-name descname"><span class="pre">update_package</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bci</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#bci_build.package.BaseContainerImage" title="bci_build.package.BaseContainerImage"><span class="pre">BaseContainerImage</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">commit_msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_prj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cleanup_on_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_package</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cleanup_on_no_change</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_service_target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.10)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'obs'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ibs'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'obs'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#bci_build.update.update_package" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the package of this BCI image on OBS or IBS (which one is chosen
depends on the parameter <code class="docutils literal notranslate"><span class="pre">build_service_target</span></code>, with the default being
OBS):</p>
<ol class="arabic simple">
<li><p>if <code class="docutils literal notranslate"><span class="pre">target_pkg</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, branch the image package, optionally
into the supplied <code class="docutils literal notranslate"><span class="pre">target_prj</span></code></p></li>
<li><p>checkout the branched package or <code class="docutils literal notranslate"><span class="pre">target_pkg</span></code></p></li>
<li><p>render the build recipe files from the <code class="docutils literal notranslate"><span class="pre">bci</span></code> Container Image</p></li>
<li><p>update the changelog, commit the changes and create a submitrequest
(the SR is only created when <code class="docutils literal notranslate"><span class="pre">submit_package</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>) if any
changes were made.</p></li>
</ol>
<p>If <code class="docutils literal notranslate"><span class="pre">cleanup_on_error</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, then perform a <strong class="command">osc
rdelete</strong> of the branched package or <code class="docutils literal notranslate"><span class="pre">target_pkg</span></code> if an error occurred
during the update.</p>
</dd></dl>

</section>
<section id="module-bci_build.templates">
<span id="templates-module"></span><h2><a class="reference internal" href="#module-bci_build.templates" title="bci_build.templates"><code class="xref py py-mod docutils literal notranslate"><span class="pre">templates</span></code></a> module<a class="headerlink" href="#module-bci_build.templates" title="Permalink to this heading">¶</a></h2>
<p>This module contains the Jinja2 templates used to generate the build
descriptions.</p>
<dl class="py data">
<dt class="sig sig-object py" id="bci_build.templates.DOCKERFILE_TEMPLATE">
<span class="sig-prename descclassname"><span class="pre">bci_build.templates.</span></span><span class="sig-name descname"><span class="pre">DOCKERFILE_TEMPLATE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;Template</span> <span class="pre">memory:7f6ff1088040&gt;</span></em><a class="headerlink" href="#bci_build.templates.DOCKERFILE_TEMPLATE" title="Permalink to this definition">¶</a></dt>
<dd><p>Jinja2 template used to generate <code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="bci_build.templates.KIWI_TEMPLATE">
<span class="sig-prename descclassname"><span class="pre">bci_build.templates.</span></span><span class="sig-name descname"><span class="pre">KIWI_TEMPLATE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;Template</span> <span class="pre">memory:7f6ff1098040&gt;</span></em><a class="headerlink" href="#bci_build.templates.KIWI_TEMPLATE" title="Permalink to this definition">¶</a></dt>
<dd><p>Jinja2 template used to generate <code class="file docutils literal notranslate"><span class="pre">$pkg_name.kiwi</span></code></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="bci_build.templates.SERVICE_TEMPLATE">
<span class="sig-prename descclassname"><span class="pre">bci_build.templates.</span></span><span class="sig-name descname"><span class="pre">SERVICE_TEMPLATE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;Template</span> <span class="pre">memory:7f6ff11e5bd0&gt;</span></em><a class="headerlink" href="#bci_build.templates.SERVICE_TEMPLATE" title="Permalink to this definition">¶</a></dt>
<dd><p>Jinja2 template used to generate <code class="file docutils literal notranslate"><span class="pre">_service</span></code>.</p>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">bci-build-templates</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="adding_containers.html">Adding and Modifying Container Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_packages.html">Creating packages on OBS</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-bci_build.package"><code class="xref py py-mod docutils literal notranslate"><span class="pre">package</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bci_build.update"><code class="xref py py-mod docutils literal notranslate"><span class="pre">update</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-bci_build.templates"><code class="xref py py-mod docutils literal notranslate"><span class="pre">templates</span></code> module</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="creating_packages.html" title="previous chapter">Creating packages on OBS</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Dan Čermák.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.2.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/api.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>